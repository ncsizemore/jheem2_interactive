---
title: "jheem2 Installation Debugging"
output: html_notebook
---

```{r setup}
# Check system information
Sys.info()
R.version

# Check compiler information
Sys.getenv("PATH")
system("g++ --version")
system("which g++")
```

```{r }
# Try standard installation with custom Makevars
dir.create("~/.R", showWarnings = FALSE)
writeLines("CXX_STD = CXX17
PKG_CXXFLAGS = -std=c++17
PKG_LIBS = $(LAPACK_LIBS) $(BLAS_LIBS) $(FLIBS) -lstdc++ -lR -lRcpp", "~/.R/Makevars")

# Check if Makevars was created correctly
file.exists("~/.R/Makevars")
cat(readLines("~/.R/Makevars"), sep="\n")

# Try installing with devtools (capture all output)
library(devtools)
install_github("tfojo1/jheem2@test_deploy", verbose = TRUE)
```

```{r }
# If that fails, try with specific compiler flags
install.packages("remotes")
remotes::install_github("tfojo1/jheem2@test_deploy", 
                      configure.args = "--with-R-include=${R_HOME}/include")
```
